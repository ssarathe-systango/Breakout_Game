<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Register</title> 
  <link rel="stylesheet" href="register1.css">
</head>

<body>
  <div class="center">
    <h1>Register</h1>

    <div id="form">
      <div class="textfield">
        Nickname <input type="text" id = "uname">
      </div>
      <div class="textfield">
        Password <input type="password" id = "pass">
      </div>
      <button id="RegisterBtn">Submit</button>
      <a href = "login.html" id = "RegisterBtn" >Login</button></a>
      
    </div>
  </div>

  <!---------------------------------------CONFIGURATION---------------------------------------->
  <script src="https://www.gstatic.com/firebasejs/4.8.1/firebase.js"> </script>
  <script type = "module">
    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyDzBeh1scj-vECh-Rh2dQnLSf5O3XyTrGA",
      authDomain: "breakout-game-3710f.firebaseapp.com",
      databaseURL: "https://breakout-game-3710f-default-rtdb.firebaseio.com",
      projectId: "breakout-game-3710f",
      storageBucket: "breakout-game-3710f.appspot.com",
      messagingSenderId: "602197715891",
      appId: "1:602197715891:web:5b01f760950f470c4ef9c6"
    };
    // Insert Data In Database.
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function writeUserData() {

      let Username = document.getElementById('uname').value;

      // let Name = document.getElementById('name').value;
      // let Gender = document.getElementById('gender').value;
      let Password = document.getElementById('pass').value;

      let data = {
        // name: Name,
        // gender: Gender,
        uname: Username,
         pass: Password
      };

      const ref = db.ref('Registered Users');
      let id = ref.push(data);

      
    }
    var register = document.getElementById('RegisterBtn');
    register.addEventListener('click', writeUserData);


    //----------------------------------------Retrive Data--------------------------------------------------//

    // Retrive Data From DataBase

    // const app = initializeApp(firebaseConfig);
    // import { getDatabase, ref, get, set, child, update, remove }
    //   from "https://www.gstatic.com/firebasejs/9.6.6/firebase-database.js";
      
    // document.getElementById("register").addEventListener('click', allScoreFetch);

    // function allScoreFetch() {

    //   const databaseRef = db.ref('Registered Users');

    //   get(child(databaseRef, "Registered Users/")).then((snapshot) => {

    //     if (typeof (snapshot) !== 'undefined') {
    //       if (snapshot.exists()) {

    //         let InpUname = document.getElementById("uname").value;
    //         snapshot.forEach((child) => {

    //           console.log(child.val().uname);
    //           console.log(child.val().pass);
    //         });
    //       }

    //     }
    //     else {
    //       alert("Not Working!");
    //     }
    //   });

    // }
    // allScoreFetch();

  </script>
</body>

</html>