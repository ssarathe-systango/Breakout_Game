<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Register</title>
  <link rel="stylesheet" href="loginUpdated.css">

</head>

<body class = "registerbody">
  <center>
    <h1 style="color: white; font-size: 45px;">
      WELCOME TO BREAKOUT GAME !
    </h1>
  </center>
  <div class="login-box">
    <h1>Register</h1>

    <div id="form">
      <div class="textbox">
        <i class="fas fa-user"></i>
        <input type="text" id="uname" placeholder="Nickname">
      </div>
      <div class="textbox">
        <i class="fas fa-lock"></i>
        <input type="password" id="pass" placeholder="Password">
      </div>
      <input type="button" id="RegisterBtn" class="btn" value="Register">

      <!-- <a href="login.html" id="RegisterBtn">Login</button></a> -->

      <div class="signup_link">
        Already Registered <a href="login.html" id="RegisterBtn" style="color: black;" class="btn btn-primary">Login</a>
      </div>
    </div>
  </div>

  <!------------------------------------------------- CONFIGURATION---------------------------------------->
  <!-- <script src="https://www.gstatic.com/firebasejs/4.8.1/firebase.js"> </script>
  <script type = "module">
    const firebaseConfig = {
      apiKey: "AIzaSyDzBeh1scj-vECh-Rh2dQnLSf5O3XyTrGA",
      authDomain: "breakout-game-3710f.firebaseapp.com",
      databaseURL: "https://breakout-game-3710f-default-rtdb.firebaseio.com",
      projectId: "breakout-game-3710f",
      storageBucket: "breakout-game-3710f.appspot.com",
      messagingSenderId: "602197715891",
      appId: "1:602197715891:web:5b01f760950f470c4ef9c6"
    }; -->
  <!------------------------------------------------------------------------------------------------------>


  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.7/firebase-app.js";

    import { getDatabase, set, ref, child, get, onValue, update }
      from "https://www.gstatic.com/firebasejs/9.6.7/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDzBeh1scj-vECh-Rh2dQnLSf5O3XyTrGA",
      authDomain: "breakout-game-3710f.firebaseapp.com",
      databaseURL: "https://breakout-game-3710f-default-rtdb.firebaseio.com",
      projectId: "breakout-game-3710f",
      storageBucket: "breakout-game-3710f.appspot.com",
      messagingSenderId: "602197715891",
      appId: "1:602197715891:web:5b01f760950f470c4ef9c6"
    };

    // ----------------------------------------------------- Initialize Firebase ---------------------------------------------//
    const app = initializeApp(firebaseConfig);

    const db = getDatabase();
    // const ref1 = ref(db, "Registered Users");
    function writeUserData() {

      let Username = document.getElementById('uname').value;
      let Password = document.getElementById('pass').value;
      localStorage.setItem("user_name", Username);


      let gameUniqueId = Username;
      set(ref(db, "Registered Users/" + gameUniqueId), {
        score: 0,
        uname: Username,
        pass: Password,
      })
      alert('Player Registered');
    }

    var register = document.getElementById('RegisterBtn');
    register.addEventListener('click', writeUserData);
  </script>

  <script src="Breakout.js"></script>
</body>

</html>

<!---
// -----------------------------------------------------------------------------------------------------------------------//
// let score1 = localStorage.getItem("playerScore", score);
// let data = {
//   playerScore: 0,
//   uname: Username,
//   pass: Password
// };
// const ref = db.ref('Registered Users');
// let id = ref.push(data);
// -----------------------------------------------------------------------------------------------------------------------//
-->


